# Chaper 1. 컴퓨터 네트워크와 인터넷 
> 25.02.13 Study

## 1.1 인터넷이란 무엇인가?

두 가지 관점으로 설명 가능
>1. 인터넷의 구성요소, 인터넷을 구성하는 기본적인 하드웨어와 소프트웨어 구성요소 관점 
>2. 분산 애플리케이션에 서비스를 제공하는 네트워킹 인프라스트럭처 관점

### 1.1.1 구성 요소로 본 인터넷

- **핵심 개념**  
  인터넷은 전 세계 수십억 개의 컴퓨팅 장치를 상호 연결하는 **컴퓨터 네트워크**, “nuts and bolts” 즉, 실제 하드웨어와 메커니즘에 집중

- **주요 구성 요소**  
  - **종단 시스템 (Hosts / End Systems)**  
    - 컴퓨터, 스마트폰, IoT 기기 등 네트워크에 연결된 모든 장치  
    - *hosts*와 *end systems*는 동일하게 취급
  - **통신 링크 (Communication Links)**  
    - 동축케이블, 구리선, 광섬유, 무선 전파 등 다양한 물리 매체  
    - 각 링크는 고유의 전송률(대역폭, bps: 초당 비트 수)을 가짐짐
  - **패킷 (Packets) 및 패킷 스위치 (Packet Switches)**  
    - 송신 시스템은 데이터를 세그먼트로 분할한 후, 각 세그먼트에 헤더를 붙여 **패킷**으로 전송  
    - 라우터나 링크 계층 스위치가 패킷을 받아 다음 링크로 전달하여 최종 목적지에 도달
  - **ISP (Internet Service Provider)**  
    - 각종 종단 시스템에 네트워크 접속 서비스를 제공하며, 독립적으로 관리되다가 서로 연결되어 “네트워크의 네트워크”를 형성
  - **프로토콜 (Protocols)**  
    - TCP/IP를 비롯해 데이터 전송의 형식, 오류 검출, 연결 설정(예: TCP의 3-way handshake) 등을 정의

### 1.1.2 서비스 측면에서 본 인터넷

- **핵심 개념**  
  인터넷은 단순한 물리적 네트워크가 아니라, **분산 애플리케이션(distributed application)**에 서비스를 제공하는 인프라스트럭처

- **소켓 인터페이스 (Socket Interface)**  
    - 한 종단 시스템에서 실행되는 애플리케이션이 다른 종단 시스템의 특정 프로그램과 데이터를 주고받기 위해 사용하는 규약
    - 이 인터페이스를 통해 애플리케이션은 네트워크에 “내 요구사항”을 전달하고, 네트워크는 해당 규칙에 따라 데이터를 전달합니다.

### 1.1.3 프로토콜이란 무엇인가?

- **정의**  
  프로토콜은 둘 이상의 통신 개체(종단 시스템, 라우터 등)가 상호작용할 때 교환하는 메시지의 포맷, 순서, 그리고 그에 따른 행동을 정의하는 규약

- **예시**  
  - **혼잡 제어 프로토콜**: 송수신자 간 전송률을 조절하여 네트워크 혼잡을 완화  
  - **라우팅 프로토콜**: 출발지에서 목적지까지의 경로를 설정


## 1.2 네트워크의 가장자리

네트워크 엣지는 인터넷의 ‘가장자리’에 해당하며, 실제 사용자나 클라이언트가 접속하는 부분 이 영역에서는 접속 네트워크 기술이 핵심적으로 기술

### 1.2.1 접속 네트워크

- **정의**  
  종단 시스템(가정, 기업, 모바일 기기 등)을 엣지 라우터에 연결하는 네트워크

- **주요 접속 기술**  
  - **거주지 접속**
    - **DSL**: 기존 전화선을 통해 데이터와 음성 신호를 동시에 전송하며, 다운스트림 속도가 업스트림보다 빠른 비대칭 접속  
      - DSLAM이 중앙에서 여러 가정을 연결
    - **케이블 인터넷**: 케이블 TV 인프라를 사용하며, FDM 기법으로 신호를 분할하여 전송  
      - 공유된 방송 매체 특성으로, 동시에 다수 사용 시 속도 저하 우려가 있으나 일반적으로 높은 속도를 제공
    - **FTTH**: 광섬유를 직접 가정에 연결하여 매우 빠르고 안정적인 인터넷 접속을 제공
    - **위성 링크**: 지리적으로 인터넷 서비스가 어려운 지역에서 사용 (예: 스타링크와 같은 저궤도 위성 서비스)
  
  - **기업 접속**
    - **LAN (이더넷)**: 꼬임쌍선(UTP 등)을 이용하여 사내 네트워크를 구성하며, AP를 통해 무선 접속도 제공
    - **무선 접속**: IEEE 802.11 표준에 따른 와이파이 등
  
### 1.2.2 물리 매체

- **정의**  
  비트가 출발지에서 목적지로 전달될 때, 각 송신기-수신기 쌍을 통해 전자파나 광 펄스 형태로 전파, 이 전송 경로는 물리 매체를 통해 이루어짐

- **예시**  
  - 꼬임쌍선 (Twisted Pair)
  - 동축케이블 (Coaxial Cable)
  - 광섬유 케이블 (Fiber Optic Cable)
  - 무선 매체 (Radio Spectrum; 무선 LAN, 디지털 위성 채널 등)

- **종류**  
  - **유도 매체 (Guided Media)**
    케이블이나 광섬유처럼 물리적인 선로를 따라 데이터가 전달되는 매체  
  - **비유도 매체 (Unguided Media)**
    대기나 자유 공간을 통해 전파되는 매체


## 1.3 네트워크 코어(Core)

네트워크 코어는 종단 시스템 간의 데이터 전송을 담당하는 중앙부로, 주로 **패킷 교환** 방식을 사용

- **패킷 교환 (Packet Switching)**  
  - 메시지를 여러 패킷으로 분할하여 각 패킷이 독립적으로 최적 경로를 따라 전달
  - **Store-and-Forward 방식**: 전체 패킷을 수신한 후 다음 링크로 전송하는 방식
  - **라우팅과 포워딩**:  
    - *라우팅*: 전체 네트워크 정보를 기반으로 최적의 경로를 결정  
    - *포워딩*: 결정된 경로에 따라 실제 패킷을 전달

- **회선 교환 (Circuit Switching)**  
  - 통신 세션 동안 경로상의 자원이 예약되어 고정된 연결을 유지
  - 전화망 등에서 사용되며, 연결이 끝날 때까지 자원을 독점

## 1.4 패킷 교환 네트워크에서의 지연, 손실과과 처리율

네트워크 성능은 주로 **지연(delay)**, **패킷 손실(packet loss)**, **처리율(throughput)**로 평가

### 1.4.1 패킷 교환 네트워크에서의 지연 개요

> 지연 유형
>- **처리 지연**
>	-  라우터가 패킷의 헤더를 분석하여 어느 출력 링크로 보낼지 결정하는 데 걸리는 시간
>- **큐잉 지연**
> 	- 패킷이 출력 버퍼에서 대기하는 시간 (네트워크 혼잡에 따라 달라짐)
>- **전송 지연**
>	- 패킷의 모든 비트를 출력 링크로 전송하는 데 필요한 시간 (패킷 길이 L과 전송률 R에 따라 L/R로 계산)
>- **전파 지연**
>	- 물리 매체를 따라 패킷이 전달되는 데 걸리는 시간 (거리와 매체 특성에 의존)

### 1.4.2 큐잉 지연과 패킷 손실

- **큐잉 지연 (Queuing Delay)**
  - **정의**:  
    패킷이 라우터의 출력 버퍼에 도착한 후, 해당 링크로 전송되기 전에 대기하는 시간
  - **주요 요인**:
    - **트래픽 강도**:  
      - 패킷 도착률(La)과 링크의 전송률(R) 사이의 비율에 따라 결정
      - La/R이 1 미만이면 대기 시간이 거의 없고, 1에 가까워지거나 초과하면 큐 길이가 급격히 늘어나 지연이 크게 증가
    - **네트워크 혼잡**:  
      - 다수의 패킷이 동시에 도착할 경우, 버퍼에 쌓이면서 대기 시간이 증가
    - **라우터의 처리 능력 및 버퍼 크기**:  
      - 라우터의 내부 처리 속도가 낮거나 버퍼 용량이 제한적일 때 지연이 더욱 길어질 수 있음
  
- **패킷 손실 (Packet Loss)**
  - **정의**:  
    라우터의 출력 버퍼가 가득 차거나 기타 네트워크 오류로 인해 패킷이 저장되지 못하고 폐기되는 현상
  - **주요 요인인**:
    - **버퍼 오버플로우**:  
      - 네트워크 혼잡이나 트래픽 증가로 인해 라우터 버퍼가 한계에 도달하면 새로 도착하는 패킷이 버림
    - **네트워크 오류**:  
      - 물리적 장애, 신호 간섭 또는 하드웨어 오류 등으로 패킷이 손실
  - **결과 및 영향**:
    - **재전송 필요**:  
      - 손실된 패킷은 TCP와 같은 프로토콜에 의해 재전송되어, 전체 전송 지연이 증가하고 네트워크 처리율에 영향을 미침
    - **실시간 서비스 품질 저하**:  
      - 실시간 스트리밍이나 VoIP의 경우, 패킷 손실이 음질 저하나 끊김 현상


## 1.5 프로토콜 계층과 서비스 모델

인터넷은 계층 구조를 통해 복잡성을 관리하며, 각 계층은 독립적인 역할을 수행

### 1.5.1 계층 구조

- **TCP/IP 5계층 모델** (또는 OSI 7계층 모델):
  - **애플리케이션 계층**: 웹, 이메일, FTP 등 사용자가 직접 상호작용하는 서비스
  - **전송 계층**: TCP, UDP를 통해 데이터 전송의 신뢰성 및 흐름 제어 제공
  - **네트워크 계층**: IP, 라우팅 프로토콜을 통해 데이터그램 전달 및 경로 설정
  - **데이터 링크 계층**: MAC 주소, CSMA/CD 등을 통해 인접 노드 간 통신 담당
  - **물리 계층**: 전기, 광, 전파 신호 등 실제 비트 전송

![alt text](image.png)

### 1.5.2 캡슐화

- **과정**:  
  상위 계층의 데이터는 하위 계층으로 내려가면서 각 계층의 헤더가 추가되어 하나의 패킷(데이터그램)을 형성하며, 목적지에서는 각 계층의 헤더가 차례로 제거되어 원래의 데이터를 복원
- **소켓 인터페이스**:  
  종단 시스템의 애플리케이션이 네트워크에 데이터를 보내고 받을 때 사용하는 표준 API로, 네트워크의 내부 복잡성을 추상화

## 1.6 네트워크 공격 및 보안

네트워크와 시스템은 다양한 위협에 노출되어 있으며, 이를 방어하기 위한 보안 기술이 필수

주요 공격 유형
- **멀웨어 (Malware)**
  - **바이러스**: 사용자 상호작용을 통해 전파되는 악성 코드
  - **웜**: 사용자 개입 없이 자동으로 전파되는 악성 코드
- **서비스 거부 공격 (DoS / DDoS)**
  - 과도한 트래픽이나 가짜 연결로 정상적인 서비스 이용을 방해
- **스니핑 (Sniffing)**
  - 네트워크 상의 패킷을 가로채어 민감 정보를 탈취
- **스푸핑 (Spoofing)**
  - 출발지 주소 등을 위조하여 다른 사용자나 시스템인 척하는 공격

>보안 대책
>- **암호화**: 데이터 전송 시 암호화를 적용하여 중간자 공격을 방어
>- **인증 및 접근 제어**: 사용자 및 장치 인증을 강화하여 무단 접근을 차단
>- **네트워크 모니터링**: 이상 트래픽 감지 및 신속한 대응 체계를 구축