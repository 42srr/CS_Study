# 컴퓨터 네트워크와 인터넷

## 1.1 인터넷이란 무엇인가?

### 1.1.1 구성 요소로 본 인터넷

인터넷은 전 세계적으로 수십억 개의 컴퓨팅 장치를 연결하는 컴퓨터 네트워크다.

모든 장치는 인터넷 용어로 호스트 혹은 종단 시스템이라고 부른다.

종단 시스템은 통신 링크와 패킷 스위치의 네트워크로 연결된다.

한 종단 시스템이 다른 종단 시스템이 다른 종단 시스템으로 보낼 데이터를 갖고 있을 때, 송신 종단 시스템은 데이터를 세그먼트로 나누고 각 세그먼트에 헤더를 붙인다. 이를 패킷이라고 부른다.

종단 시스템은 ISP를 통해 인터넷에 접속한다.

ISP는 하위 계층 상위 계층 ISP로 나뉜다.

종단 시스템, 패킷 스위치를 비롯한 인터넷의 다른 구성 요소는 인터넷에서 여러 프로토콜을 수행한다.

### 1.1.2 서비스 측면에서 본 인터넷

애플리케이션에 서비스를 제공하는 인프라스트럭처로서 인터넷을 기술할 수 있다.

애플리케이션은 서로 데이터를 교환하는 많은 종단 시스템을 포함하고 있기 때문에 분산 애플리케이션이라고 부른다..

인터넷에 접속된 종단 시스템들은 한 종단 시스템에서 수행되는 프로그램이 어떻게 인터넷 인프라스트럭처에 다른 종단 시스템에서 수행되는 특정 목적지 프로그램으로 데이터를 전달하도록 요구하는지를 명시하는 소켓 인터페이스를 제공한다.

### 1.1.3 프로토콜이란 무엇인가

명확하게 송수신된 메시지와 이러한 메시지가 송수신될 때나 다른 상황이 발생했을 때 취하는 행동

통신하는 둘 이상의 원격 개체가 포함된 인터넷에서의 모든 활동은 프로토콜이 제어한다.

## 1.2 네트워크의 가장 자리

호스트 = 종단시스템.

호스트는 클라이언트와 서버로 구분된다.

### 1.2.1 접속 네트워크

DSL과 케이블 인터넷 접속으로 나뉜다.

케이블 인터넷의 중요한 특성은 공유 방송 매체라는 것이다.

기업과 대학 캠퍼스 그리고 점진적으로 가정환경에서 LAN은 일반적으로 종단 시스템을 가장자리 라우터에 연결하는 데 사용된다.

광역 무선 접속 : 3G와 LTE 4G와 5G

### 1.2.2 물리매체

물리매체는 유도 매체와 비유도 매체로 나뉠 수 있다.

꼬임상선 - UTP는 빌딩의 네트워크, 즉 LAN에 가장 많이 이용되는 매체다.

동축케이블은 유도 공유 매체로 사용할 수 있다.

광섬유

지상 라디오 채널

위성 라디오 채널 - 정지위성과 저궤도 위성.

## 1.3 네트워크 코어

### 1.3.1 패킷 교환

네트워크 애플리케이션에서 종단 시스템들은 서로 메시지를 교환한다.

출발지 종단 시스템에서 목적지 종단 시스템으로 메시지를 보내기 위해 송신 시스템은 긴 메시지를 패킷이라고 하는 작은 데이터 덩어리로 분할한다.

송신 측과 수신 측 사이에서 각 패킷은 통신 링크와 패킷 스위치(라우터와 링크 계층 스위치)를 거치게 된다.

대부분의 패킷 스위치는 저장~후-전달 전송 방식을 이용한다.

각 링크에 대해 패킷 스위치는 출력 버퍼 출력 큐를 갖고 있으며 그 링크로 송신하려고 하는 패킷을 저장하고 있다.

패킷은 출력 버퍼에서 큐잉 지연을 겪게 된다.

버퍼 공간의 크기가 유한하기 때문에 도착하는 패킷은 버퍼가 전송을 위해 대기 중인 다른 패킷들로 꽉 차는 경우 패킷 손실이 발생한다.

인터넷에서 모든 종단 시스템은 IP주소라고 하는 주소를 갖는다.

각 라우터는 목적지 주소를 라우터의 출력 링크로 매핑하는 포워딩 테이블을 갖고 있다.

### 1.3.2 회선 교환

링크와 스위치의 네트워크를 통해 데이터를 이동시키는 방식에는 회선교환과 패킷 교환 두가지가 있다.

회선 교환 네트워크에서 종단 시스템 간에 통신을 제공하기 위해 경로상에 필요한 자원은 통신 세션 동안에 확보 또는 예약된다. 패킷 교환 네트워크에서는 이러한 자원을 예약하지 않는다.

송신자는 수신자에게 보장된 일정 전송률로 데이터를 보낼 수 있다.

패킷 교환 옹호자들은 회선 교환의 경우에 할당된 회선이 비활용 기간에는 놀게 되므로 낭비라고 계속 주장했다.

패킷 교환 대 회선 교환

1. 패킷 교환이 회선 교환보다 전송 용량의 공유에서 더 효율적이다.
2. 패킷 교환이 더 간단하고 효율적이며 회선 교환 보다 구현 비용이 적다.

## 1.4 패킷 교환 네트워크 지연, 손실과 처리율

### 1.4.1 패킷 교환 네트워크에서의 지연 개요.

중요한 지연으로는 노드 처리 지연, 큐잉 지연, 전송 지연, 전파 지연을 들 수 있다. 이들이 쌓여서 전체 노드 지연을 일으킨다.

처리 지연 : 패킷 헤더를 조사하고 그 패킷을 어디로 보낼지를 결정하는 시간

큐잉 지연 : 패킷은 큐에서 링크로 전송되기를 기다리면서 큐잉 지연을 겪는다. 패킷마다 다르다.

전송 지연 : 패킷의 모든 비트를 링크로 밀어내는 데 필요한 시간.

전파 지연 : 링크의 처음부터 라우터까지의 전파에 필요한 시간이 전파지연이다.

## 1.5 프로토콜 계층과 서비스 모델

### 1.5.1 계층 구조

네트워크 프로토콜의 설계 구조를 제공하기 위해, 네트워크 설계자는 프로토콜을 계층으로 조직한다.

다양한 계층의 프로토콜을 모두 합하여 프로토콜 스택이라고 한다.

##### 애플리케이션 계층

애플리케이션 계층은 네트워크 애플리케이션과 애플리케이션 계층 프로토콜이 있는 곳이다.

애플리케이션 계층 프로토콜은 여러 종단 시스템에 분산되어 있어 한 종단 시스템에 있는 애플리케이션이 다른 종단 시스템에 있는 애플리케이션과 정보 패킷을 교환하는 데이 프로토콜을 사용한다.

##### 트랜스포트 계층.

트랜스포트 계층은 클라이언트와 서버 간에 애플리케이션 계층 메시지를 전송하는 서비스를 제공한다

TCP와 UDP.

트랜스포트 계층 패킷을 세그먼트라고 한다.

##### 네트워크 계층

인터넷의 네트워크 계층은 한 호스트에서 다른 호스트로 데이터그램을 라우팅하는 책임을 진다.

##### 링크 계층

각 노드에서 네트워크 계층은 데이터그램을 아래 링크 계층으로 보내고 링크 계층은 그 데이터그램을 경로상의 다음 노드에 전달한다.

링크 계층에서 제공하는 서비스는 그 링크에서 채용된 특정 링크 계층 프로토콜에 의해 결정된다.

##### 물리 계층

물리 계층의 기능은 프레임 내부의 각 비트를 한 노드에서 다음 노드로 이동하는 것이다. 이 계층의 프로토콜들은 링크에 의존하고 더 나아가 링크의 실제 전송 매체에 의존한다.

## 1.6 공격받는 네트워크

나쁜 친구들은 인터넷을 통해 여러분의 호스트에 멀웨어를 침투시킬 수 있다.

나쁜 친구들은 서버와 네트워크 인스트럭처를 공격할 수 있다.

- 취약성 공격 : 목표 호스트에서 수행되는 공격받기 쉬운 애플리케이션 혹은 운영체제에 교묘한 메시지를 보내는 것을 포함한다.
- 대역폭 플러딩 : 이 공격은 목표 호스트로 수많은 패킷을 보낸다.
- 연결 플러딩 : 이 공격은 목표 호스트에 반열림 혹은 전열림된 TCP 연결을 설정한다. 호스트는 가짜 연결을 처리하느라 바빠서 바빠서 정상적인 연결을 받아들이는 것을 중단하게 된다.

나쁜 친구들은 패킷을 탐지할 수 있다.

- 지나가는 모든 패킷의 사본을 기록하는 수동적인 수신자를 패킷 스니퍼라고 한다.

나쁜 친구들은 여러분이 신뢰하는 사람인 것처럼 위장할 수 있다.

- 가짜 출발지 주소를 가진 패킷을 인터넷으로 보내는 능력을 IP 스푸핑이라고한다.
- 이를 해결하기 위해서는 종단 인증, 즉 메시지가 실제로 와야 할 곳으로부터 온 것인지 확실할 수 있는 방법이 필요하다.
